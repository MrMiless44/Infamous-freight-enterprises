name: Comprehensive Security Analysis

# Database configuration
db:
  queries:
    - uses: security-and-quality
    
# Query suites to run
queries:
  - uses: codeql/javascript-queries
  - uses: codeql/typescript-queries

# Exclude patterns to reduce noise
exclude:
  - node_modules
  - dist
  - build
  - coverage
  - "*.test.ts"
  - "*.test.js"
  - "*.spec.ts"
  - "*.spec.js"
  - ".next"

# Include patterns for focused analysis
paths:
  - api/src
  - web
  - packages/shared/src
  - mobile/src

# Severity filters
severity:
  # Report all issues, even low severity for visibility
  include:
    - error
    - warning
    - note
    - recommendation

# JavaScript-specific configuration
javascript:
  # Extract configuration
  extract-config:
    cache: true
    timeout: 120
    threads: 0  # auto

# Advanced query options
advanced:
  # Enable all security queries
  security:
    enabled: true
  
  # Enable quality queries
  quality:
    enabled: true
  
  # Performance optimization
  performance:
    max-disk-cache-size: 10gb
    
# Custom CodeQL library paths
library-path:
  - .github/codeql/custom-queries

# Reporting configuration
reporting:
  # Include SARIF output
  sarif:
    enabled: true
    version: "2.1.0"
  
  # Summary options
  summary:
    included: true
    show-details: true
