<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="49" failures="0" errors="0" time="4.044">
  <testsuite name="__tests__/routes.shipments.test.js" errors="0" failures="0" skipped="0" timestamp="2025-12-14T07:37:31" time="2.353" tests="15">
    <testcase classname="Shipments API Routes › GET /api/shipments" name="returns all shipments when authenticated" time="0.061">
    </testcase>
    <testcase classname="Shipments API Routes › GET /api/shipments" name="filters shipments by status" time="0.01">
    </testcase>
    <testcase classname="Shipments API Routes › GET /api/shipments" name="filters shipments by driverId" time="0.007">
    </testcase>
    <testcase classname="Shipments API Routes › GET /api/shipments" name="returns 401 when not authenticated" time="0.007">
    </testcase>
    <testcase classname="Shipments API Routes › GET /api/shipments" name="returns 403 when missing required scope" time="0.007">
    </testcase>
    <testcase classname="Shipments API Routes › GET /api/shipments/:id" name="returns shipment by ID with driver details" time="0.007">
    </testcase>
    <testcase classname="Shipments API Routes › GET /api/shipments/:id" name="returns 404 when shipment not found" time="0.012">
    </testcase>
    <testcase classname="Shipments API Routes › POST /api/shipments" name="creates shipment with transaction and event logging" time="0.018">
    </testcase>
    <testcase classname="Shipments API Routes › POST /api/shipments" name="returns 400 when required fields missing" time="0.03">
    </testcase>
    <testcase classname="Shipments API Routes › POST /api/shipments" name="returns 403 when missing shipments:write scope" time="0.008">
    </testcase>
    <testcase classname="Shipments API Routes › PATCH /api/shipments/:id" name="updates shipment with transaction" time="0.009">
    </testcase>
    <testcase classname="Shipments API Routes › PATCH /api/shipments/:id" name="returns 404 when shipment not found during update" time="0.009">
    </testcase>
    <testcase classname="Shipments API Routes › DELETE /api/shipments/:id" name="deletes shipment successfully" time="0.008">
    </testcase>
    <testcase classname="Shipments API Routes › DELETE /api/shipments/:id" name="returns 404 when shipment not found during delete" time="0.007">
    </testcase>
    <testcase classname="Shipments API Routes › DELETE /api/shipments/:id" name="returns 403 when missing shipments:write scope" time="0.007">
    </testcase>
  </testsuite>
  <testsuite name="__tests__/routes.users.test.js" errors="0" failures="0" skipped="0" timestamp="2025-12-14T07:37:33" time="0.484" tests="17">
    <testcase classname="Users API Routes › GET /api/users" name="returns all users when authenticated with users:read scope" time="0.007">
    </testcase>
    <testcase classname="Users API Routes › GET /api/users" name="returns 401 when not authenticated" time="0.003">
    </testcase>
    <testcase classname="Users API Routes › GET /api/users" name="returns 403 when missing required scope" time="0.003">
    </testcase>
    <testcase classname="Users API Routes › GET /api/users" name="handles database errors gracefully" time="0.005">
    </testcase>
    <testcase classname="Users API Routes › GET /api/users/:id" name="returns user by ID when found" time="0.003">
    </testcase>
    <testcase classname="Users API Routes › GET /api/users/:id" name="returns 404 when user not found" time="0.006">
    </testcase>
    <testcase classname="Users API Routes › GET /api/users/:id" name="returns 401 when not authenticated" time="0.002">
    </testcase>
    <testcase classname="Users API Routes › POST /api/users" name="creates new user with valid data" time="0.005">
    </testcase>
    <testcase classname="Users API Routes › POST /api/users" name="defaults role to &apos;user&apos; when not provided" time="0.003">
    </testcase>
    <testcase classname="Users API Routes › POST /api/users" name="returns 400 when email is missing" time="0.007">
    </testcase>
    <testcase classname="Users API Routes › POST /api/users" name="returns 403 when missing users:write scope" time="0.013">
    </testcase>
    <testcase classname="Users API Routes › PATCH /api/users/:id" name="updates user with valid data" time="0.004">
    </testcase>
    <testcase classname="Users API Routes › PATCH /api/users/:id" name="returns 404 when user not found during update" time="0.002">
    </testcase>
    <testcase classname="Users API Routes › PATCH /api/users/:id" name="returns 403 when missing users:write scope" time="0.004">
    </testcase>
    <testcase classname="Users API Routes › DELETE /api/users/:id" name="deletes user successfully" time="0.004">
    </testcase>
    <testcase classname="Users API Routes › DELETE /api/users/:id" name="returns 404 when user not found during delete" time="0.004">
    </testcase>
    <testcase classname="Users API Routes › DELETE /api/users/:id" name="returns 403 when missing users:write scope" time="0.003">
    </testcase>
  </testsuite>
  <testsuite name="__tests__/routes.success.test.js" errors="0" failures="0" skipped="0" timestamp="2025-12-14T07:37:34" time="0.325" tests="3">
    <testcase classname="Route success flows" name="ai command executes when payload is valid" time="0.019">
    </testcase>
    <testcase classname="Route success flows" name="voice command forwards text to AI service" time="0.018">
    </testcase>
    <testcase classname="Route success flows" name="voice ingest accepts supported audio uploads" time="0.011">
    </testcase>
  </testsuite>
  <testsuite name="__tests__/routes.validation.test.js" errors="0" failures="0" skipped="0" timestamp="2025-12-14T07:37:34" time="0.36" tests="6">
    <testcase classname="Route validation and error handling" name="rejects disallowed origins with 403" time="0.017">
    </testcase>
    <testcase classname="Route validation and error handling" name="ai command validation fails when command missing" time="0.026">
    </testcase>
    <testcase classname="Route validation and error handling" name="billing stripe session returns 503 when not configured" time="0.022">
    </testcase>
    <testcase classname="Route validation and error handling" name="billing paypal capture requires orderId" time="0.008">
    </testcase>
    <testcase classname="Route validation and error handling" name="voice command validation fails when text missing" time="0.009">
    </testcase>
    <testcase classname="Route validation and error handling" name="voice ingest rejects unsupported audio format" time="0.01">
    </testcase>
  </testsuite>
  <testsuite name="src/services/__tests__/aiSyntheticClient.test.js" errors="0" failures="0" skipped="0" timestamp="2025-12-14T07:37:35" time="0.191" tests="5">
    <testcase classname="aiSyntheticClient sendCommand" name="uses synthetic provider when configured" time="0.025">
    </testcase>
    <testcase classname="aiSyntheticClient sendCommand" name="throws helpful error when synthetic engine is missing" time="0.048">
    </testcase>
    <testcase classname="aiSyntheticClient sendCommand" name="surfaces upstream errors from synthetic engine" time="0.041">
    </testcase>
    <testcase classname="aiSyntheticClient sendCommand" name="routes through OpenAI when provider configured" time="0.018">
    </testcase>
    <testcase classname="aiSyntheticClient sendCommand" name="throws when OpenAI provider lacks configuration" time="0.024">
    </testcase>
  </testsuite>
  <testsuite name="src/routes/__tests__/health.test.js" errors="0" failures="0" skipped="0" timestamp="2025-12-14T07:37:35" time="0.04" tests="1">
    <testcase classname="Health Route" name="should return ok status" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="__tests__/server.test.js" errors="0" failures="0" skipped="0" timestamp="2025-12-14T07:37:35" time="0.032" tests="2">
    <testcase classname="Server initialization" name="should load configuration" time="0.001">
    </testcase>
    <testcase classname="Server initialization" name="should have development mode" time="0">
    </testcase>
  </testsuite>
</testsuites>