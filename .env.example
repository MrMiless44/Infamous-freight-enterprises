# ============================================
# Node Environment
# ============================================
NODE_ENV=development

# ============================================
# Application Ports
# ============================================
# API server port (default: 4000, Docker internal: 3001)
API_PORT=4000
# Web server port (default: 3000)
WEB_PORT=3000

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection string with connection pooling
# Development: postgresql://infamous:infamouspass@localhost:5432/infamous_freight
# Docker: postgresql://infamous:infamouspass@postgres:5432/infamous_freight
# 
# Production connection string with pooling (PgBouncer recommended for production):
# DATABASE_URL=postgresql://user:pass@pgbouncer:6432/db?pool_size=20&statement_cache_size=50
#
# For direct Postgres connections, use schema parameter:
# DATABASE_URL=postgresql://infamous:infamouspass@localhost:5432/infamous_freight?schema=public&pool_size=20&statement_cache_size=50
#
# Connection Pool Settings:
# - pool_size: Number of connections (default: 10, production: 20-30)
# - statement_cache_size: Prepared statement cache (default: 10, production: 50-100)
# - connect_timeout: Connection timeout in seconds (default: 10)
# - idle_in_transaction_session_timeout: Kill idle transactions after (default: unset)
#
DATABASE_URL=postgresql://infamous:infamouspass@localhost:5432/infamous_freight?schema=public&pool_size=20&statement_cache_size=50

# Test database (optional, for running tests)
TEST_DATABASE_URL=postgresql://infamous:infamouspass@localhost:5432/infamous_freight_test?schema=public

# Database replication endpoint (optional, for read-heavy analytics)
# Used for separate read queries to avoid impacting production
DATABASE_READ_REPLICA_URL=postgresql://infamous:infamouspass@read-replica:5432/infamous_freight?schema=public&pool_size=10

# ============================================
# Docker Configuration
# ============================================
# PostgreSQL settings
POSTGRES_USER=infamous
POSTGRES_PASSWORD=infamouspass
POSTGRES_DB=infamous_freight
POSTGRES_PORT=5432

# Redis settings
REDIS_PASSWORD=redispass
REDIS_PORT=6379
REDIS_URL=redis://:redispass@redis:6379

# ============================================
# Authentication & Security
# ============================================
# JWT secret for token signing (MUST be changed in production)
JWT_SECRET=replace_with_long_random_value_minimum_32_characters

# ============================================
# AI Configuration
# ============================================
# AI Synthetic Engine URL (internal endpoint)
AI_SYNTHETIC_ENGINE_URL=http://localhost:4000/internal/ai-sim
# AI API Key
AI_SYNTHETIC_API_KEY=replace_with_ai_key
# AI Security Mode (strict|permissive)
AI_SECURITY_MODE=strict

# ============================================
# Public Web Configuration (Next.js)
# ============================================
# Public app name
NEXT_PUBLIC_APP_NAME=Infæmous Freight
# Public environment
NEXT_PUBLIC_ENV=development
# Public API base URL
NEXT_PUBLIC_API_BASE=http://localhost:4000/api

# ============================================
# Payment Processing (Stripe)
# ============================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================
# Payment Processing (PayPal)
# ============================================
PAYPAL_CLIENT_ID=your_paypal_client_id_here
PAYPAL_CLIENT_SECRET=your_paypal_client_secret_here
# PayPal environment (sandbox|live)
PAYPAL_ENV=sandbox

# ============================================
# Billing Configuration
# ============================================
BILLING_CURRENCY=usd
TRIAL_PERIOD_DAYS=14
USAGE_TRACKING_ENABLED=true

# ============================================
# Notifications (Optional)
# ============================================
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=

# ============================================
# Redis Configuration (Optional)
# ============================================
REDIS_URL=redis://localhost:6379

# ============================================
# SECURITY WARNING
# ============================================
# ⚠️ Never commit real secrets to version control
# ⚠️ Use environment-specific .env files that are gitignored
# ⚠️ In production, use secure secret management (e.g., Vault, AWS Secrets Manager)
